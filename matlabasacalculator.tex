% !TeX encoding = UTF-8
% !TeX program = pdfLaTeX
% !TeX root = matlab-exercises-emaip.tex
% !TeX spellcheck = en_GB
\section{Matlab as a calculator}

The simplest way of using Matlab, is as a basic pocket calculator, where an
expression is entered and Matlab then calculates the value of the expression.
Such an interaction looks like:
\begin{lstlisting}
>> 1+2*3
ans =
     7
\end{lstlisting}
Multiple things are happening here, so lets take a closer look at each of the
elements.
The prompt \verb!>>! is the first thing to recognize.
This prompt tells the user, that Matlab is waiting for some input to work on.
In this case the user then entered the expression \verb!1+2*3! and pressed 
\verb!enter!.
The response from Matlab is divided over two lines and contains the following 
\verb!ans = 7!.
When Matlab calculates a value, the value is stored in a variable.
If no variable name is specified, the default variable name \verb!ans! is used, 
this is the case here.
So Matlab tells us that the value of the entered expression has the value 7.

Often it is handy to save the result of a calculation in a variable.
This makes it possible to use the result in future calculations.
To calculate the mean value of four values, the following code can be used:
\begin{lstlisting}
>> sum_of_values = 3 + 4 + 5 + 6
sum_of_values = 
     18
>> mean_value = sum_of_values / 4
mean_value =
     4.5000
\end{lstlisting}
To access the value stored in a variable, we have to write the name of the variable.
\begin{lstlisting}
>> sum_of_values
sum_of_values = 
     18
\end{lstlisting}
To hide the calculated value, expressions can be terminated by a semicolon \verb!;!.
An expression that is ended by a semicolon is still evaluated and the value stored in the
specified variable, but the calculated value is not shown.
\begin{lstlisting}
>> sum_of_values = 3 + 4 + 5 + 6;
>> mean_value = sum_of_values / 4
mean_value =
     4.5000
\end{lstlisting}

To make Matlab ignore the rest of a line, insert the percentage 
character \verb!%!. 
This is used to add comments to the matlab code.
\begin{lstlisting}
>> % Calculate mean value by calculating the sum of the values 
>> % and then divide by the number of values.
>> sum_of_values = 3 + 4 + 5 + 6;
>> mean_value = sum_of_values / 4
mean_value =
     4.5000
\end{lstlisting}


\subsection{Exercises -- Use Matlab as a pocket calculator}

This section contains a set of exercises related to the material 
just covered.
Before you start working on the exercises, try to click on the 
\verb!hint! and \verb!solution! links that appears in the top 
right corner in most of the exercises.
This will take you to a different part of the document, which contains 
hints and reference solutions for the exercises.
Please use this if you get stuck on an exercise.

\begin{ex}
Calculate $5 + 3 \cdot 10$\\
Calculate the sum of 5 + 3 and multiply this sum with 10\\
Calculate 10 - 16/4\\
Calculate the difference 10 - 16 and divide this difference with 4
\begin{hint}
Just write it as you would on a normal calculator, eg. a TI Inspire.
\begin{lstlisting}
5 + 3 * 10
\end{lstlisting}
\end{hint}
\begin{secondhint}
Remember to add parentheses, to control the order of the calculations
\begin{lstlisting}
(5 + 3) * 10
\end{lstlisting}
\end{secondhint}
\begin{sol}
A solution is
\begin{lstlisting}
>> 3 + 5 * 10
ans = 
     53
>> (3 + 5) * 10
ans = 
     80
>> 10 - 16 / 4
ans = 
     6
>> (10 - 16) / 4
ans = 
     -1.5000
\end{lstlisting}
\end{sol}
\end{ex}
\known{+, -, *, /}

\begin{ex}
Assign the value 2 to the variable $x0$ and hide the answer from this intermediate
calculation.\\
Assign the variable $x1$ the value of $3 \cdot x0^2$ + 4 and divide with 4. Check if the answer to
this calculation is correct (you do not need a pocket calculator to do this).
\begin{hint}
The expression to evaluate is simply the value \verb!2!.
\end{hint}
\begin{secondhint}
The value of the expression $3 \cdot 2^2 + 4$ is 16.
\end{secondhint}
\begin{sol}
\begin{lstlisting}
>> x0 = 2;
>> x1 = 3*x0^2 + 4
x1 = 
     16
\end{lstlisting}
\end{sol}
\end{ex}
\known{=, \^}


\begin{ex}
Solve the second order polynomial
\begin{align}
A x^2 + B x + C = 0
\end{align}
using the formula
\begin{align}
D & = B^2 - 4 \cdot A \cdot C	\\
X & = \frac{-B\pm \sqrt{D}}{2 \cdot A}
\end{align}
Use the following values for A, B and C.\\ \noindent
(A, B, C) = (1, 2, 4), (1, 4, -1), (4, -5, 3), (25, 12, 0), (34, 0, 0) and (0, 2, 0).
\begin{sol}
\begin{lstlisting}
A = 1;
B = 2; 
C = 4;
D = B^2 - 4*A*C;
Xm = (-B - sqrt(D)) / (2*A)
Xp = (-B + sqrt(D)) / (2*A)
\end{lstlisting}
Which generates the output
\begin{lstlisting}
Xm =
  -1.0000 - 1.7321i
Xp =
  -1.0000 + 1.7321i
\end{lstlisting}
\end{sol}
\end{ex}
\known{sqrt}

\begin{ex}
Get the value of e and $\pi$ from Matlab.
\begin{sol}
\begin{lstlisting}
exp(1)
pi
\end{lstlisting}
Which generates the output
\begin{lstlisting}
ans =
    2.7183
ans =
    3.1416
\end{lstlisting}
\end{sol}
\end{ex}
\known{exp, pi}

\begin{ex}
Calculate $\sin(3 \pi / 4)$, $\cos(3 \pi / 4)$, $\tan(3 \pi /4)$ and $\cot(3 \pi / 4)$.
\begin{sol}
\begin{lstlisting}
sin(3 * pi / 4)
cos(3 * pi / 4)
tan(3 * pi / 4)
cot(3 * pi / 4)
\end{lstlisting}
Which generates the output
\begin{lstlisting}
ans =
    0.7071
ans =
   -0.7071
ans =
   -1.0000
ans =
   -1.0000
\end{lstlisting}
\end{sol}
\end{ex}
\known{sin, cos, tan, cot}


\begin{ex}
For each line of code below, state what value will be saved in each variable.
Do this without running the code.
Then verify your results by running the code without the semicolons at the 
end of the lines.
\begin{lstlisting}
a = 1;             % a = 1
b = 1;             % a = 1  b = 1 
c = a + b;         % a = 1  b = 1  c = 2
a = b;             % a =    b =    c = 
b = c;             % a =    b =    c = 
c = a + b;         % a =    b =    c = 
a = b;             % a =    b =    c = 
b = c;             % a =    b =    c = 
c = a + b;         % a =    b =    c = 
\end{lstlisting}
\begin{hint}
Here we will only look at the first four lines in the provided code.
\begin{lstlisting}
a = 1;             % a = 1
b = 1;             % a = 1  b = 1 
c = a + b;         % a = 1  b = 1  c = 2
a = b;             % a =    b =    c = 
\end{lstlisting}
To determine the values of $a$, $b$ and $c$ after running 
the line \verb!a = b!, you have to consider the following things.
In the line, a (new?!) value is assigned to the variable $a$, the
two other variables $b$ and $c$ are not changed.
\begin{lstlisting}
a = b;             % a = 1  b = 1  c = 2
\end{lstlisting}
\end{hint}
\begin{sol}
\begin{lstlisting}
a = 1;             % a = 1
b = 1;             % a = 1  b = 1 
c = a + b;         % a = 1  b = 1  c = 2
a = b;             % a = 1  b = 1  c = 2
b = c;             % a = 1  b = 2  c = 2
c = a + b;         % a = 1  b = 2  c = 3
a = b;             % a = 2  b = 2  c = 3
b = c;             % a = 2  b = 3  c = 3
c = a + b;         % a = 2  b = 3  c = 5
\end{lstlisting}
\end{sol}
\end{ex}




\subsection{Dealing with lists of values}

In Matlab a variable often contains multiple values arranged as a list of values.
To store the values 3, 7 and  -2 in a list, the values are surrounded by square brackets 
\verb![]! and separated by commas, as shown here:
\begin{lstlisting}
>> x = [3, 7, -2];
\end{lstlisting}
The great thing about saving multiple values in the same variable is when we 
want to do the same thing to all elements in the variable.
We can multiply all values in the list by a constant or add a certain value to all 
elements in the list.
\begin{lstlisting}
>> 2*x
ans = 
     6    14    -4
>> x + 2
ans = 
     5     9     0
\end{lstlisting}

We can also try to multiply elements from two lists with each other.
That however results in the following error message:
\begin{lstlisting}
>> y = [1, 1, 2];
>> x * y
Error using  * 
Incorrect dimensions for matrix multiplication. Check that 
the number of columns in the first matrix matches the number 
of rows in the second matrix. To perform elementwise 
multiplication, use '.*'.
\end{lstlisting}

If we want to multiply each element in the list with itself, we need to use \emph{pointwise} 
operations, a few examples of such operations are shown here:
\begin{lstlisting}
>> x .* y
ans = 
     3     7    -4
\end{lstlisting}




\subsection{Plot of functions}

To plot a function in Matlab, a list of x values and a list of the associated y 
values are needed.
To create a list of evenly spaced x values, that covers a given range, the function
\verb!linspace! can be used.
The \verb!linspace! function takes three input values, the start value, 
the end value and the number of elements in the list (which is set to 100 
by default).
Lets look at the example of plotting the function $f(x) = \sin(x)$ over the x range 
from -2 to 7.
To generate a list of 100 evenly distributed values over the interval from -2 to 7
and then calculate the value of the sine function applied to each of these values
run the following code:
\begin{lstlisting}
x = linspace(-2, 7);
y = sin(x);
\end{lstlisting}
The next step is to plot the calculated values.
\begin{lstlisting}
% Open figure 1 and ensure that it is empty
figure(1); clf;
% Plot the function
plot(x, y);
\end{lstlisting}


\begin{ex}
Define the parameter $x$, where $x$ have to contain $N$ values equally spaced between $0$
and $1$. Use either the built-in function \texttt{linspace} or colon notation.\\
Define a variable $y$ equal to $\cos(4\cdot \pi \cdot x)$.\\
First use $N = 5$ and create a Cartesian plot of $y$ against $x$.\\
Then increase $N$ until you get a smooth plot of the function $y$.
\end{ex}
\known{linspace, :}

\begin{ex}
Get details about the \emph{plot} command by using the \emph{help} function.
\end{ex}
\known{help}



\begin{ex}
Define and print to screen the parameters x and y, where x has to have the values 0, 1,
2, 3, 4, 5, 6, 7, 8, 9, 10 and y has to have the values 0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5,
5.\\
Create a Cartesian plot of y against x.
\end{ex}
\known{plot}


\begin{ex}
Plot the function $f(x) = \cos(x) + 3 \cdot \sin(3 \cdot x)$
over the $x$ range $[-2, 2]$.
Use the following template 
\begin{lstlisting}
% Create evenly distributed x values that covers the range
x = linspace(0, 10, 100);

% Calculate the associated y value
y = sin(x);

% Open a figure and plot the associated x and y values
figure(1);
plot(x, y);
\end{lstlisting}
\begin{sol}
A solution is:
\begin{lstlisting}
% Create evenly distributed x values that covers the range
x = linspace(-2, 2, 100);

% Calculate the associated y value
y = cos(x) + 3*sin(3*x);

% Open a figure and plot the associated x and y values
figure(1);
plot(x, y);
\end{lstlisting}
\end{sol}
\end{ex}



\begin{ex}
Plot the function $f(x) = 1 / (1.1 + \sin(4 \cdot x))$
over the interval $x \in [-3, 3]$.
\begin{sol}
A solution is:
\begin{lstlisting}
% Create evenly distributed x values that covers the range
x = linspace(-3, 3, 100);

% Calculate the associated y value
y = 1 ./ (1.1 + sin(4*x));

% Open a figure and plot the associated x and y values
figure(1);
plot(x, y);
\end{lstlisting}
\end{sol}
\begin{solutionfile}{plot}
% Create evenly distributed x values that covers the range
x = linspace(-3, 3, 100);

% Calculate the associated y value
y = 1 ./ (1.1 + sin(4*x));

% Open a figure and plot the associated x and y values
figure(1);
plot(x, y);
\end{solutionfile}
\end{ex}
